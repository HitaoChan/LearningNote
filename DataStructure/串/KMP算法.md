## 求next

**步骤：**next数组值的程序设计求解方法：

首先可以肯定的是第一位的next值为0，第二位的next值为1，后面求解每一位的next值时，根据前一位 进行比较。首先将前一位与其next值对应的内容进行比较，如果相等，则该位的next值就是前一位的next值加上1；如果不等，向前继续寻找next值对应的内容来与前一位进行比较，直到找到某个位上内容的next值对应的内容与前一位相等为止，则这个位对应的值加上1即为需求的next值；如果找到 第一位都没有找到与前一位相等的内容，那么需求的位上的next值即为1。

```
if(ch[j-1]==ch[next[j-1]])
	next[j]=next[j-1]+1;//往前一位比较next[j-1]与j下标的字符，不断重复

```

`总结：看前一位的字符与next[j]的字符是否相等，不等则递归这一过程，相等则将next值+1赋值给next`

## 求nextval

```
求nextval数组值有两种方法，一种是不依赖next数组值直接用观察法求得，一种方法是根据next数组值进行推理，两种方法均可使用，视更喜欢哪种方法而定。                                                                 本文主要分析nextval数组值的第二种方法： 　　                                                         模式串      a b a a b c a c 　　                                                                 next值      0 1 1 2 2 3 1 2 　　                                                                 nextval值   0 1 0 2 1 3 0 2 　　       
1.第一位的nextval值必定为0，第二位如果于第一位相同则为0，如果不同则为1。 　　                           2.第三位的next值为1，那么将第三位和第一位进行比较，均为a，相同，则，第三位的nextval值为0。 　　           3.第四位的next值为2，那么将第四位和第二位进行比较，不同，则第四位的nextval值为其next值，为2。 　　       4.第五位的next值为2，那么将第五位和第二位进行比较，相同，第二位的next值为1，则继续将第二位与第一位进行比较，不同，则第五  位的nextval值为第二位的next值，为1。 　　                                           5.第六位的next值为3，那么将第六位和第三位进行比较，不同，则第六位的nextval值为其next值，为3。 　　        6.第七位的next值为1，那么将第七位和第一位进行比较，相同，则第七位的nextval值为0。 　　                   7.第八位的next值为2，那么将第八位和第二位进行比较，不同，则第八位的nextval值为其next值，为2。
```

`总结：比较当前的字符和next[j]的字符，相等则递归继续，不等则将相应的next值赋值给nextval`